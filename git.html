<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Git – Documentation for ARC</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./geolocation.html" rel="next">
<link href="./virtual_machines.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-77205cbbef6a5b90ba72edc25dea2156.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./git.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Git</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Documentation for ARC</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jjcurtin/docs_arc" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Lab Practices</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grad_expectations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Graduate Student/Mentor Expectations/Policies</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./studies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Current and Planned Studies</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Lab Resources</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./engagement_resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Engagement Resources</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chtc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">CHTC</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./flowchart_demo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Flowcharts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./research_drives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Research Drives</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./virtual_machines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Virtual Machines</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Git</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./geolocation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Geolocation Processing</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Linux and CLI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linux_install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Installing Linux</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linux_use.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Using Linux</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Vim</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bash_scripting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Bash Scripting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./shell_expansions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Shell Expansions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Other Software</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./globalprotect_mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Global Protect and Mapping the Network Server</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zotero.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Zotero</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qr_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Creating QR Codes for Presentations</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Psychophysiology</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./psychophysiology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Psychophysiology Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./psychophysiology_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Psychophysiology Software</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#creating-an-ssh-key" id="toc-creating-an-ssh-key" class="nav-link active" data-scroll-target="#creating-an-ssh-key"><span class="header-section-number">10.1</span> Creating an SSH Key</a></li>
  <li><a href="#git-configuration" id="toc-git-configuration" class="nav-link" data-scroll-target="#git-configuration"><span class="header-section-number">10.2</span> Git Configuration</a>
  <ul class="collapse">
  <li><a href="#editor" id="toc-editor" class="nav-link" data-scroll-target="#editor"><span class="header-section-number">10.2.1</span> Editor</a></li>
  <li><a href="#diff-tool" id="toc-diff-tool" class="nav-link" data-scroll-target="#diff-tool"><span class="header-section-number">10.2.2</span> Diff tool</a></li>
  </ul></li>
  <li><a href="#common-git-commands" id="toc-common-git-commands" class="nav-link" data-scroll-target="#common-git-commands"><span class="header-section-number">10.3</span> Common Git Commands</a>
  <ul class="collapse">
  <li><a href="#workflow" id="toc-workflow" class="nav-link" data-scroll-target="#workflow"><span class="header-section-number">10.3.1</span> Workflow</a></li>
  <li><a href="#repos" id="toc-repos" class="nav-link" data-scroll-target="#repos"><span class="header-section-number">10.3.2</span> Repos</a></li>
  <li><a href="#branching" id="toc-branching" class="nav-link" data-scroll-target="#branching"><span class="header-section-number">10.3.3</span> Branching</a></li>
  <li><a href="#log-and-versioning" id="toc-log-and-versioning" class="nav-link" data-scroll-target="#log-and-versioning"><span class="header-section-number">10.3.4</span> Log and Versioning</a></li>
  <li><a href="#diffs" id="toc-diffs" class="nav-link" data-scroll-target="#diffs"><span class="header-section-number">10.3.5</span> Diffs</a></li>
  </ul></li>
  <li><a href="#git-command-line-for-windows" id="toc-git-command-line-for-windows" class="nav-link" data-scroll-target="#git-command-line-for-windows"><span class="header-section-number">10.4</span> Git Command Line for Windows</a>
  <ul class="collapse">
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">10.4.1</span> Installation</a></li>
  <li><a href="#windows-notes" id="toc-windows-notes" class="nav-link" data-scroll-target="#windows-notes"><span class="header-section-number">10.4.2</span> Windows Notes</a></li>
  </ul></li>
  <li><a href="#git-filter-repo" id="toc-git-filter-repo" class="nav-link" data-scroll-target="#git-filter-repo"><span class="header-section-number">10.5</span> <code>git filter-repo</code></a>
  <ul class="collapse">
  <li><a href="#installation-1" id="toc-installation-1" class="nav-link" data-scroll-target="#installation-1"><span class="header-section-number">10.5.1</span> Installation</a></li>
  <li><a href="#usage" id="toc-usage" class="nav-link" data-scroll-target="#usage"><span class="header-section-number">10.5.2</span> Usage</a></li>
  </ul></li>
  <li><a href="#github-website-tools" id="toc-github-website-tools" class="nav-link" data-scroll-target="#github-website-tools"><span class="header-section-number">10.6</span> Github Website Tools</a>
  <ul class="collapse">
  <li><a href="#create-personal-access-token" id="toc-create-personal-access-token" class="nav-link" data-scroll-target="#create-personal-access-token"><span class="header-section-number">10.6.1</span> Create Personal Access Token</a></li>
  <li><a href="#import-a-repo" id="toc-import-a-repo" class="nav-link" data-scroll-target="#import-a-repo"><span class="header-section-number">10.6.2</span> Import a repo</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Git</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>For full documentation of using git from the command line you can read the <a href="https://git-scm.com/book/en/v2">Git Pro Book</a>.</p>
<section id="creating-an-ssh-key" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="creating-an-ssh-key"><span class="header-section-number">10.1</span> Creating an SSH Key</h2>
<p>To communicate with github through a terminal you must first establish an SSH key (a secure access credential). Follow the instructions below to create this.</p>
<ol type="1">
<li><p>Open your terminal or command line interface.</p></li>
<li><p>Paste the text below, replacing the email used in the example with your GitHub email address.</p></li>
</ol>
<p><code>ssh-keygen -t ed25519 -C "your_email@example.com"</code></p>
<ol start="3" type="1">
<li><p>When you’re prompted to “Enter a file in which to save the key”, you can press Enter to accept the default file location.</p></li>
<li><p>At the prompt to enter a passphrase, you can hit enter twice to keep this blank.</p></li>
<li><p>Open up your public key by pasting the text below.</p></li>
</ol>
<p><code>vim .ssh/id_ed25519.pub</code></p>
<ol start="6" type="1">
<li><p>Copy the key, go to <code>github.com --&gt; settings --&gt; SSH and GPG keys --&gt;  new SSH keys</code>, and paste your key here.</p></li>
<li><p>One last important step! If you have never pushed up to the repo you are working in you will need to run the following code before your SSH works. Run this from your terminal <strong>after navigating into the repo directory.</strong></p></li>
</ol>
<p><code>git remote set-url origin git@github.com:repo_owner_username/repo_name.git</code></p>
<p>ex: <code>git remote set-url origin git@github.com:jjcurtin/proj_risk2.git</code></p>
</section>
<section id="git-configuration" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="git-configuration"><span class="header-section-number">10.2</span> Git Configuration</h2>
<section id="editor" class="level3" data-number="10.2.1">
<h3 data-number="10.2.1" class="anchored" data-anchor-id="editor"><span class="header-section-number">10.2.1</span> Editor</h3>
<p>Run <code>git config --global core.editor "vim"</code> to set your default text editor for git commands.</p>
</section>
<section id="diff-tool" class="level3" data-number="10.2.2">
<h3 data-number="10.2.2" class="anchored" data-anchor-id="diff-tool"><span class="header-section-number">10.2.2</span> Diff tool</h3>
<ul>
<li>We use <a href="https://meldmerge.org/">meld merge</a> for file diffs</li>
<li>Meld merge can do diffs on two files saved locally. For this, you can use the gui and select the files. For example, between a qmd file for a paper in a repo and another copy of that file with edits from a lab member saved outside the repo.</li>
<li>Meld merge can also be <a href="https://stackoverflow.com/questions/34119866/setting-up-and-using-meld-as-your-git-difftool-and-mergetool">set up to be used as the difftool for git</a>. In Linux, add the following to your .gitconfig file</li>
</ul>
<pre><code>[diff]
    tool = meld
[difftool]
    prompt = false
[difftool "meld"]
cmd = meld "$LOCAL" "$REMOTE"

# The order of the Meld GUI window panes can be controlled by the order of $LOCAL and $REMOTE in cmd.  JJC still not certain about this?</code></pre>
<p>Once you have done this, git difftool will call meld. You can now use meld for diffs:</p>
</section>
</section>
<section id="common-git-commands" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="common-git-commands"><span class="header-section-number">10.3</span> Common Git Commands</h2>
<p>Note: These commands will only work if you are in a git repo.</p>
<section id="workflow" class="level3" data-number="10.3.1">
<h3 data-number="10.3.1" class="anchored" data-anchor-id="workflow"><span class="header-section-number">10.3.1</span> Workflow</h3>
<ul>
<li><code>git clone git@github.com:username/repo_name.git</code> clones a repo from github</li>
<li><code>git status</code> shows any files updated locally</li>
<li><code>git add [filename]</code> add file to staging area</li>
<li><code>git add .</code> adds all modified files to staging area. Be careful that you want to stage all files. Best only if preceded by <code>git status</code></li>
<li><code>git commit</code> create commit of staged files - this will prompt you to enter commit message. You can also use the -m flag to write your message directly with commit command (<code>git commit -m "updates xyz"</code>).</li>
<li><code>git commit -am "commit message"</code> will add all files and commit them in one step. Be careful that you are sure you want to commit all files.</li>
<li><code>git push</code> pushes your commits to github</li>
<li><code>git pull</code> pulls updates from github (it is good practice to pull before commiting)<br>
</li>
<li><code>git mv &lt;oldname&gt; &lt;newname&gt;</code> to rename and/or move a file without losing its link to its earlier history. <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/renaming-a-file">Read more</a></li>
<li><code>git stash</code> to stash changes; <code>git stash pop</code> to reapply stashed changes</li>
<li><code>git reset HEAD~1</code> will undo a local commit (not yet pushed to github) but retain the changes to files</li>
<li><code>gitpcp.sh "message"</code> is a shell script written by john to pull, commit (with message) and push to github</li>
</ul>
</section>
<section id="repos" class="level3" data-number="10.3.2">
<h3 data-number="10.3.2" class="anchored" data-anchor-id="repos"><span class="header-section-number">10.3.2</span> Repos</h3>
<ul>
<li><code>git clone [repo_url]</code> clones git repo.<br>
</li>
<li><code>git init [repo_name]</code> creates a new empty repo</li>
</ul>
</section>
<section id="branching" class="level3" data-number="10.3.3">
<h3 data-number="10.3.3" class="anchored" data-anchor-id="branching"><span class="header-section-number">10.3.3</span> Branching</h3>
<ul>
<li><code>git branch</code> shows local branches (<code>git branch -a</code> will show you all branches local and on github)</li>
<li><code>git checkout [branch_name]</code> switches branches</li>
<li><code>git checkout -b [new_branch_name]</code> switches to new branch (<code>git branch [new_branch_name]</code> creates new branch but doesn’t switch to it).</li>
<li><code>git branch -d [brand_name]</code> deletes a local branch. This must be done from another branch or main.</li>
<li><code>git push origin -d [brach_name]</code> deletes branch_name on remote/github (assumes remote is called origin, which it is for us).</li>
</ul>
</section>
<section id="log-and-versioning" class="level3" data-number="10.3.4">
<h3 data-number="10.3.4" class="anchored" data-anchor-id="log-and-versioning"><span class="header-section-number">10.3.4</span> Log and Versioning</h3>
<ul>
<li><code>git log</code> displays the most recent commits</li>
<li><code>git log --stat -[N]</code> displays stats on the most recent N commits. Cleaner than log</li>
<li><code>git log [filename]</code> displays commit history for a file. May have problems if the filename was ever changed. In that case consider, <code>git log --follow -- [filename].  Can add</code>–stat` for more info on commit</li>
</ul>
</section>
<section id="diffs" class="level3" data-number="10.3.5">
<h3 data-number="10.3.5" class="anchored" data-anchor-id="diffs"><span class="header-section-number">10.3.5</span> Diffs</h3>
<p>NOTE: These commands will use meld merge if set up as described earlier.</p>
<ul>
<li><code>git difftool filename</code> to compare local copy (not committed) of filename to head on repo</li>
<li><code>git difftool &lt;COMMIT_HASH&gt; filename</code> to compare previous version of filename to head version on repo.</li>
<li><code>git difftool HEAD HEAD~2 filename</code> to compare head version of filename on repo with version of filename two commits back.</li>
<li><code>git difftool &lt;COMMIT_HASH_1&gt; &lt;COMMIT_HASH_2&gt; filename</code> to compare two versions of a file across two separate commits that are not the head on the repo.</li>
</ul>
</section>
</section>
<section id="git-command-line-for-windows" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="git-command-line-for-windows"><span class="header-section-number">10.4</span> Git Command Line for Windows</h2>
<p>The recommended terminal for using the Git command line on Windows is <a href="https://git-scm.com/download/win">Git Bash</a>. You can have Git command line and Git Desktop installed on the same machine and they mostly do not affect each other (see notes below).</p>
<section id="installation" class="level3" data-number="10.4.1">
<h3 data-number="10.4.1" class="anchored" data-anchor-id="installation"><span class="header-section-number">10.4.1</span> Installation</h3>
<p>During installation, you will be given several options:</p>
<ol type="1">
<li>Select the default text editor. It defaults to Vim, but you can select any text editor you have installed on your system.</li>
<li>Override branch name for new repos created with <code>git init</code>. It defaults to “master” but you can set your own. This does not affect existing repos. I selected to override and use “main” which is more familiar to me.</li>
<li>Adjust path environment. The most cautious choice is to use Git soley from Git Bash; I selected this as I do not plan on using any other 3rd party software.</li>
<li>Change SSH executable &amp; backend. The default is the bundled OpenSSH software and crt file.</li>
<li>Configure line endings. As Windows and Unix use different line-end characters, I recommend using the default which is to check out as Windows and commit at Unix. This will prevent issues for other users not on Windows.</li>
<li>Select terminal emulator. I selected the default MinTTY option to make sure I didn’t mistake a cmd terminal window for my git terminal.</li>
<li>Choose behavior of <code>git pull</code>. Leave it on the default unless you know what effects the other options may have.</li>
<li>Choose credential manager. Choose the default which is the bundled Git Credentials Manager. You will then be able to authenticate once and stay logged in.</li>
<li>Extra options. By default, “Enable file system caching” is checked and “Enable symbolic links” is unchecked. Leave as is unless you know what each option affects.</li>
<li>Experimental options. Leave these unchecked unless you know what you’re doing!</li>
</ol>
</section>
<section id="windows-notes" class="level3" data-number="10.4.2">
<h3 data-number="10.4.2" class="anchored" data-anchor-id="windows-notes"><span class="header-section-number">10.4.2</span> Windows Notes</h3>
<ol type="1">
<li>When first attempting to interact with a repo (either clone/pull/push) Windows will pop up a Git Credentials Window for you to authenticate. Select “Use website” and it will open a browser window the same as happens with Github Desktop. It takes a moment for the connection to be made before you will be able to click the green button to authenticate.</li>
<li>When navigating between directories, if a directory has a space in the name, you must enclose it in single quotes (not backtics)</li>
<li>Occasionally I have typed unequal quotes, ie <code>cd 'My Documents"</code> and although GitBash acts as if the command was accepted (showing a new command prompt), nothing happens. The only solution I have found is to close and re-open GitBash.</li>
<li><code>pwd</code> is a shortcut to print the working directory.</li>
</ol>
</section>
</section>
<section id="git-filter-repo" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="git-filter-repo"><span class="header-section-number">10.5</span> <code>git filter-repo</code></h2>
<p><a href="https://github.com/newren/git-filter-repo"><code>git filter-repo</code></a> is a tool that can be used to remove <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository">large or sensitive files</a> from a repository. It removes the file from all caches, commits, and revision histories without affecting the rest of the repo.</p>
<p>One note: If you commit a large file and make no other changes to the repo in that commit, then you use this tool to remove all traces of that file, the entire commit WILL disappear from the revision history. The commit will remain as long as ANY other file was also touched by the commit.</p>
<section id="installation-1" class="level3" data-number="10.5.1">
<h3 data-number="10.5.1" class="anchored" data-anchor-id="installation-1"><span class="header-section-number">10.5.1</span> Installation</h3>
<ol type="1">
<li>You must first install Python. In GitBash run <code>python3</code>and it will install it from the Windows Store.</li>
<li>Find the location of your git installation by running <code>git --exec-path</code> in GitBash.</li>
<li><a href="https://github.com/newren/git-filter-repo/blob/main/git-filter-repo">Save this file</a> into your Downloads folder if your OS won’t allow you to save directly to the git installation location.</li>
<li>Using File Explorer, change the file name to remove the .txt extension (in Windows 11, at least, it will not download without adding that file extension.)</li>
<li>Copy the renamed file into your git installation folder if you weren’t already able to save it there. You will be prompted to provide administrative authorization to permit the copy.</li>
<li><code>cd</code> into a repo and type <code>git filter-repo</code> to test. If the installation was successful it will say <code>no arguments specified</code></li>
</ol>
</section>
<section id="usage" class="level3" data-number="10.5.2">
<h3 data-number="10.5.2" class="anchored" data-anchor-id="usage"><span class="header-section-number">10.5.2</span> Usage</h3>
<p>First you will need to know the full repo path &amp; name of the large or sensitive files you wish to delete. To do this, you can browse the previous commits in the repo to identify where they were first added. (Technically, you can get the path/name of the large file from any commit touching that file, but getting it from the initial commit makes sure you don’t miss any renames or moves).</p>
<p>You could also run the following command to find XX largest objects in repo:</p>
<pre><code>git rev-list --objects --all \  
  | grep "$(git verify-pack -v .git/objects/pack/*.idx \  
           | sort -k 3 -n \  
           | tail -XX \  
           | awk '{print$1}')"</code></pre>
<p>This outputs the path names in a format which is easy to copy.</p>
<p>Once you have the path/file names, follow the commands <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository#using-git-filter-repo">here</a> to remove each file and add them to gitignore so they don’t accidentally get re-committed. You can run an entire list of <code>git filter-repo</code> commands to remove many files at once.</p>
</section>
</section>
<section id="github-website-tools" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="github-website-tools"><span class="header-section-number">10.6</span> Github Website Tools</h2>
<section id="create-personal-access-token" class="level3" data-number="10.6.1">
<h3 data-number="10.6.1" class="anchored" data-anchor-id="create-personal-access-token"><span class="header-section-number">10.6.1</span> Create Personal Access Token</h3>
<p>On the website, go to Account Settings &gt; Developer Settings &gt; Personal Access Tokens &gt; Token (Classic). There is a Beta version that allows more fine-grained access but I haven’t experimented with that yet.</p>
<p>Hit “Generate new token (Classic)”. You can specify what this token will be used for and select various permissions to allow for this token.</p>
<p>When the token is generated, you must save it somewhere - Github won’t let you see it again. You can then use this token for certain privileged access actions, such as importing another repo into a clean repo repo.</p>
</section>
<section id="import-a-repo" class="level3" data-number="10.6.2">
<h3 data-number="10.6.2" class="anchored" data-anchor-id="import-a-repo"><span class="header-section-number">10.6.2</span> Import a repo</h3>
<p>This action is used when you want to copy another repo into a new repo. It copies ALL past fils, commits, and history, but any actions taken to the new repo will not affect the old repo in the way a branch would.</p>
<ol type="1">
<li>Create a new repo via the website “New repo” button. Give it whatever name and privacy settings are desired.</li>
<li>On the next page, to populate your repository, choose “Import code from another repository”.</li>
<li>It will then ask for “Your old repository’s clone URL”. If you are importing another github repo, the plain repo URL is all that’s needed i.e.&nbsp;“https://github.com/jjcurtin/analysis_risk” will import an exact copy of the Risk1 analysis repo. Click “Begin Import”.</li>
<li>You will be asked to provide your Login (your github email, NOT the password) and Private Access Token (see above).</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/github\.io\/jjcurtin\/docs_arc");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./virtual_machines.html" class="pagination-link" aria-label="Virtual Machines">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Virtual Machines</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./geolocation.html" class="pagination-link" aria-label="Geolocation Processing">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Geolocation Processing</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>